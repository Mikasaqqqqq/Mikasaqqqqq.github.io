

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Mikasa">
  <meta name="keywords" content="">
  
    <meta name="description" content="大二上Classical mechanics">
<meta property="og:type" content="article">
<meta property="og:title" content="Classical mechanics">
<meta property="og:url" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="大二上Classical mechanics">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/2.1.png">
<meta property="og:image" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/2.2.png">
<meta property="og:image" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/2.3.png">
<meta property="og:image" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/2.4.png">
<meta property="article:published_time" content="2025-09-08T14:55:48.307Z">
<meta property="article:modified_time" content="2025-09-19T06:21:03.017Z">
<meta property="article:author" content="Mikasa">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://mikasaqqqqq.github.io/2025/09/08/Classical%20mechanics/2.1.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Classical mechanics - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"mikasaqqqqq.github.io","root":"/","version":"1.9.8","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Mikasa blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/Image_1720062846071.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle">Classical mechanics</span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Mikasa
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-09-08 22:55" pubdate>
          2025年9月8日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.2k 字
        
      </span>
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Classical mechanics</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    本文最后更新于 2025-09-19T14:21:03+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <h3 id="Classical-mechanics"><a href="#Classical-mechanics" class="headerlink" title="Classical mechanics"></a>Classical mechanics</h3><p>references:</p>
<p>​	[1] 杨望,理论力学讲义<br>​	[2] H.Goldstein, C. Poole, J.Safko, <em>Classical mechanics</em> , 高等教育出版社<br>​	[3] 高显，经典力学，科学出版社<br>​	[4] 金尚年，理论力学（第三版），高等教育出版社</p>
<hr>
<h4 id="Chapter-0-多元函数的导数和微分"><a href="#Chapter-0-多元函数的导数和微分" class="headerlink" title="Chapter 0 多元函数的导数和微分"></a>Chapter 0 多元函数的导数和微分</h4><p>​	设 $f\left(x_1,\dots,x_n\right)$ 是 $n$ 个变量 $x_1,\dots,x_n$ 的光滑函数，其中 $x_i\in \R,1\leq i\leq n,f\left(x_1,\dots,x_n\right)\in \R$ .我们采取下述记号，<br>$$<br>f[x_j]&#x3D;f\left(x_1,\dots,x_n\right)<br>$$<br>​	那么偏导数可以写为<br>$$<br>\frac{\partial f}{\partial x_i}[x_j]&#x3D;\lim_{\epsilon \to 0}\frac{f[x_j+\epsilon\delta_{ij}]-f[x_j]}{\epsilon}\tag{0.1}<br>$$<br>​	当自变量有如下变换时<br>$$<br>x_1\to x_1+\Delta x_1,x_2\to x_2+\Delta x_2,\dots,x_n\to x_n+\Delta x_n<br>$$</p>
<p>（全）微分可以写成<br>$$<br>\begin{equation*}<br>\begin{aligned}<br>\Delta f&amp;&#x3D;f[x_j+\Delta x_j]-f[x_j]\<br>		&amp;&#x3D;\sum_{i&#x3D;1}^n\frac{\partial f}{\partial x_i}[x_j]\Delta x_i+O\left(\Delta x_i\Delta x_j\right)<br>\end{aligned}\tag{0.2}<br>\end{equation*}<br>$$</p>
<h3 id="Chapter-1-变分法"><a href="#Chapter-1-变分法" class="headerlink" title="Chapter 1 变分法"></a>Chapter 1 变分法</h3><h4 id="1-1-泛函"><a href="#1-1-泛函" class="headerlink" title="1.1 泛函"></a>1.1 泛函</h4><p>​		函数就是具体的映射关系<br>$$<br>f:t\mapsto y&#x3D;f\left(t\right)\tag{1.1}<br>$$</p>
<h5 id="1-1-1-泛函的概念"><a href="#1-1-1-泛函的概念" class="headerlink" title="1.1.1 泛函的概念"></a>1.1.1 泛函的概念</h5><p>​		泛函，即函数到数的影射，记函数集合 $\mathcal{F}&#x3D;{f_1,f_2,f_3,\cdots}$ .函数 $f$ 的泛函记作 $S[f]$ ，即<br>$$<br>f\mapsto S&#x3D;S[f],\quad\mathcal{F}\to \mathbf{C}\tag{1.2}<br>$$</p>
<h5 id="1-1-2-泛函的具体形式"><a href="#1-1-2-泛函的具体形式" class="headerlink" title="1.1.2 泛函的具体形式"></a>1.1.2 泛函的具体形式</h5><p>​		三维空间中曲面方程记为 $z&#x3D;\phi\left(x,y\right)$ ，则曲面面积 $A$ 为二元函数 $\phi\left(x,y\right)$ 的泛函<br>$$<br>A&#x3D;A[\phi]&#x3D;\iint_{区域}\mathrm{d}x\mathrm{d}y\sqrt{1+\left(\frac{\partial\phi}{\partial x}\right)^2+\left(\frac{\partial \phi}{\partial y}\right)^2}<br>$$<br>​		经典力学种所遇到的泛函通常可以写成积分形式：<br>$$<br>S[f]&#x3D;\int_{t_1}^{t_2}\mathrm{d}tL\left(t,f\left(t\right),f’\left(t\right),f’’\left(t\right),\cdots\right)\tag{1.3}<br>$$<br>这里的被积函数 $L&#x3D;L\left(t,f\left(t\right),f’\left(t\right),f’’\left(t\right),\cdots\right)$ 是函数 $f\left(t\right)$ 及其导数的一般函数.</p>
<h4 id="1-2-变分"><a href="#1-2-变分" class="headerlink" title="1.2 变分"></a>1.2 变分</h4><h5 id="1-2-1-变分的概念"><a href="#1-2-1-变分的概念" class="headerlink" title="1.2.1 变分的概念"></a>1.2.1 变分的概念</h5><p>​		泛函为函数到数的映射，函数本身的无穷小变化，以及由之引起的泛函的变化即变分.若函数 $f\left(t\right)$ 变成了另外一个函数 $f\left(t\right)\to \tilde{f}\left(t\right)$ ，且假设两者相差无穷小，则函数 $f\left(t\right)$ 的变分 $\delta f$ 定义为<br>$$<br>\boxed{\delta f\left(t\right):&#x3D;\tilde{f}\left(t\right)-f\left(t\right)} \tag{1.4}<br>$$<br>​		函数的变分 $\delta f$ 是因为函数本身发生了变化，而与自变量 $t$ 无关<br>$$<br>f\left(t\right)\to\tilde{f}\left(t\right)\equiv\left(f+\delta f\right)\left(t\right)&#x3D;f\left(t\right)+\delta f\left(t\right)\tag{1.5}<br>$$</p>
<h5 id="1-2-2-变分的运算规则"><a href="#1-2-2-变分的运算规则" class="headerlink" title="1.2.2 变分的运算规则"></a>1.2.2 变分的运算规则</h5><p>​		函数的变分和微分同为无穷小变化，形式上的运算规则基本相同.<br>$$<br>\begin{equation*}<br>\begin{aligned}<br>&amp;\delta\left(f^n\right)&#x3D;nf^{n-1}\delta f\<br>\delta\left(af_1+bf_2\right)&#x3D;a\delta f_1&amp;+b\delta f_2,\quad \delta\left(f_1f_2\right)&#x3D;\left(\delta f_1\right)\delta f_2+\delta f_1\left(\delta f_2\right)<br>\end{aligned}<br>\end{equation*}\tag{1.6}<br>$$<br>​		另一个重要且非常有用的性质是，变分和微分可以交换顺序.<br>$$<br>\boxed{\delta\left(\mathrm df\right)&#x3D;\mathrm d\left(\delta f\right)}\tag{1.7}<br>$$</p>
<blockquote>
<p>$proof$<br>$$<br>\begin{aligned}<br>\tilde{f}\left(t+\mathrm dt\right)-f\left(t\right)&amp;&#x3D;\tilde{f}\left(t+\mathrm dt\right)-\tilde f\left(t\right)+\tilde f\left(t\right)-f\left(t\right)&#x3D;\delta f+\mathrm df+\mathrm d\left(\delta f\right)\<br>&amp;&#x3D;\tilde{f}\left(t+\mathrm dt\right)-f\left(t+\mathrm dt\right)+f\left(t+\mathrm dt\right)-f\left(t\right)&#x3D;\delta f+\mathrm df+\delta\left(\mathrm df\right)<br>\end{aligned}<br>$$</p>
</blockquote>
<p>因此可以推出<br>$$<br>\boxed{\delta\left(\frac{\mathrm d}{\mathrm dt}f\left(t\right)\right)&#x3D;\frac{\mathrm d}{\mathrm dt}\left(\delta f\left(t\right)\right)}\tag{1.8}<br>$$</p>
<h4 id="1-3-泛函导数"><a href="#1-3-泛函导数" class="headerlink" title="1.3 泛函导数"></a>1.3 泛函导数</h4><h5 id="1-3-1-泛函导数的概念"><a href="#1-3-1-泛函导数的概念" class="headerlink" title="1.3.1 泛函导数的概念"></a>1.3.1 泛函导数的概念</h5><p>​		对于一阶导数<br>$$<br>\mathrm d f\left(t\right)&#x3D;\frac{\mathrm d f\left(t\right)}{\mathrm dt}\mathrm dt<br>$$<br>​		类比普通函数的导数.对于泛函 $S[f]$ ，其变分是由函数的变分引起的：<br>$$<br>\begin{equation}<br>\begin{aligned}<br>S[\tilde f]&#x3D;&amp;S[f+\epsilon\delta f]\<br>&#x3D;&amp;S[f]+\epsilon\delta S[f]+\frac{\epsilon^2}{2}\delta^2S[f]+\frac{\epsilon^3}{3!}\delta^3S[f]+\cdots<br>\end{aligned}<br>\end{equation}\tag{1.9}<br>$$<br>定义<br>$$<br>\boxed{\delta S[f]&#x3D;\int\mathrm dt\frac{\delta S}{\delta f\left(t\right)}\delta f\left(t\right)}\tag{1.10}<br>$$<br>其中 $\delta S$ 是泛函的一阶变分， $\frac{\delta S}{\delta f\left(t\right)}$ 即<strong>一阶泛函导数</strong>.</p>
<p>​		类比函数的高阶导数，高阶泛函导数定义为<br>$$<br>\delta^2S[f]:&#x3D;\int\mathrm dt_1\int \mathrm dt_2\frac{\delta ^2 S}{\delta f\left(t_1\right)\delta f\left(t_2\right)}\delta f\left(t_1\right)\delta f\left(t_2\right) \tag{1.11}<br>$$</p>
<h5 id="1-3-2-泛函导数的操作定义"><a href="#1-3-2-泛函导数的操作定义" class="headerlink" title="1.3.2 泛函导数的操作定义"></a>1.3.2 泛函导数的操作定义</h5><p>​		将 $S[f+\epsilon\delta f]$ 视为 $\epsilon$ 的普通函数，将式（1.9）视作关于 $\epsilon$ 的普通泰勒展开：<br>$$<br>S[f+\epsilon\delta f]&#x3D;S[f]+\left.\epsilon\frac{\mathrm d}{\mathrm d \epsilon}S[f+\epsilon\delta f]\right |<em>{\epsilon&#x3D;0}+\left.\frac{\epsilon^2}{2}\frac{\mathrm d^2}{\mathrm d \epsilon^2}S[f+\epsilon\delta f]\right |</em>{\epsilon&#x3D;0}+\cdots \tag{1.12}<br>$$<br>即有<br>$$<br>\boxed{\delta S&#x3D;\left.\frac{\mathrm d}{\mathrm d \epsilon}S[f+\epsilon\delta f]\right |<em>{\epsilon&#x3D;0}&#x3D;\int\mathrm dt\frac{\delta S}{\delta f\left(t\right)}\delta f\left(t\right)}\tag{1.13}<br>$$<br>​		对于式（1.3）形式的泛函<br>$$<br>S[f+\delta f]&#x3D;\int</em>{t_1}^{t_2}\mathrm dtL\left(t,f+\delta f,f’+\delta f’,\cdots\right)<br>$$<br>可以得到<br>$$<br>\begin{equation}<br>\begin{aligned}<br>\delta S&amp;&#x3D;\int_{t_1}^{t_2}\mathrm dt\left .\frac{\mathrm d}{\mathrm d\epsilon}L\left(t,f+\epsilon\delta f,f’+\epsilon\delta f’,\cdots\right)\right |<em>{\epsilon&#x3D;0}\<br>&amp;&#x3D;\int</em>{t_1}^{t_2}\mathrm dt\underbrace{\left(\frac{\partial L}{\partial f}\delta f+\frac{\partial L}{\partial f’}\delta f’+\cdots\right)}_{\equiv\delta L}<br>\end{aligned}<br>\end{equation}\tag{1.14}<br>$$</p>
<p>其中被积函数为 $L$ 的变分 $\delta L$ ，其与微分 $\mathrm d L$ 形式全同.这意味着<br>$$<br>\delta S&#x3D;\delta\left(\int_{t_1}^{t_2}\mathrm dtL\right)&#x3D;\int_{t_1}^{t_2}\mathrm dt\delta L\tag{1.15}<br>$$<br>​		我们用分部积分的方法进行处理<br>$$<br>\frac{\partial L}{\partial f’}\delta f’\overset{变分和求导交换顺序}{&#x3D;} \underbrace{\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\delta f\right)}<em>{全导数}-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)\delta f\tag{1.16}<br>$$<br>类似的<br>$$<br>\begin{equation}<br>\begin{aligned}<br>\frac{\partial L}{\partial f’’}\delta f’’ &amp;&#x3D; \frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’’}\delta f’\right)-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’’}\right)\delta f’\<br>&amp;&#x3D;\underbrace{\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’’}\delta f’-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’’}\right)\delta f\right)}</em>{全导数}+\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)\delta f<br>\end{aligned}<br>\end{equation}\tag{1.17}<br>$$<br>因此<br>$$<br>\begin{equation}<br>\begin{aligned}<br>\delta S&#x3D;&amp;\int_{t_1}^{t_2}\mathrm dt\left[\frac{\partial L}{\partial f}\delta f-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)\delta f+\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)\delta f-\cdots+\frac{\mathrm d\mathcal B}{\mathrm dt}\right]\<br>&#x3D;&amp;\int_{t_1}^{t_2}\mathrm dt\left[\frac{\partial L}{\partial f}-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)+\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)-\cdots\right]\partial f+\left.\mathcal B \right |_{t_1}^{t_2}<br>\end{aligned}<br>\end{equation}\tag{1.18}<br>$$</p>
<p>​		这里 $\frac{\mathrm d\mathcal B}{\mathrm dt}$ 代表全导数项，积分到最后得到的 $\left. \mathcal B \right |_{t_1}^{t_2}$ 被称作<strong>边界项</strong>.</p>
<p>​		两个被积函数“相差全导数”，或者两个积分“相差边界项”，这件事在变分法种非常重要，用 $\simeq$ 来表示<br>$$<br>\boxed{L_1\simeq L_2 \iff L_1&#x3D;L_2+\frac{\mathrm dF\left(t,f’,f’’,\cdots\right)}{\mathrm d t}} \tag{1.19}<br>$$<br>以及<br>$$<br>L_1\simeq L_2\iff S_1&#x3D;S_2+\left . F\right |_{t_1}^{t_2}<br>$$<br>式（1.16）和（1.17）可以写成<br>$$<br>\frac{\partial F}{\partial f’}\delta f’\simeq-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)\delta f’，\frac{\partial F}{\partial f’’}\delta f’’&#x3D;\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)\delta f \tag{1.20}<br>$$</p>
<h5 id="1-3-3-计算一阶泛函导数的标准手续"><a href="#1-3-3-计算一阶泛函导数的标准手续" class="headerlink" title="1.3.3 计算一阶泛函导数的标准手续"></a>1.3.3 计算一阶泛函导数的标准手续</h5><ol>
<li><p>将变分符号 $\delta$ 移到积分号内：<br>$$<br>\delta S&#x3D;\int \mathrm dtL\left(t,f’,f’’,\cdots\right)\tag{1.21}<br>$$</p>
</li>
<li><p>按照类似复合函数求导的规则，计算 $\delta L$<br>$$<br>\delta S&#x3D;\int \mathrm dt\left(\frac{\partial L}{\partial f}\delta f+\frac{\partial L}{\partial f’}\delta f’+\frac{\partial L}{\partial f’’}\delta f’’+\cdots\right) \tag{1.22}<br>$$</p>
</li>
<li><p>做分部积分</p>
</li>
<li><p>提取 $\delta f$ 前系数，即一阶泛函导数<br>$$<br>\delta S\simeq\int \mathrm dt\left[\frac{\partial L}{\partial f}-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)+\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)+\cdots\right ]\delta f \tag{1.23}<br>$$</p>
<p>$$<br>\boxed{\frac{\delta S}{\delta f}&#x3D;\frac{\partial L}{\partial f}-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)+\frac{\mathrm d^2}{\mathrm dt^2}\left(\frac{\partial L}{\partial f’’}\right)+\cdots} \tag{1.24}<br>$$</p>
</li>
</ol>
<blockquote>
<p>Example 1.1</p>
<p>​		考虑泛函 $S[f]&#x3D;\int\mathrm dt\left[\left(f’\left(t\right)\right)^2-\left(f\left(t\right)\right)^2\right]$ ，有<br>$$<br>\begin{aligned}<br>\delta S&#x3D;&amp;\int \mathrm dt\delta\left(f’^2-f^2\right)&#x3D;\int\mathrm d\left(2f’\delta f’-2f\delta f\right)\<br>&#x3D;&amp;\int \mathrm dt\left(-2f’’-2f\right)\delta f<br>\end{aligned}<br>$$<br>因此一阶泛函导数为<br>$$<br>\frac{\delta S}{\delta f}&#x3D;-2f’’-2f<br>$$</p>
</blockquote>
<blockquote>
<p>Example 1.2</p>
<p>​		考虑泛函 $S[f]&#x3D;\int \mathrm dt\left[f\left(t\right)f’\left(t\right)+f’\left(t\right)f’’\left(t\right)\right]$，有<br>$$<br>\begin{aligned}<br>\delta S[f]&#x3D;&amp;\int \mathrm dt\left(\delta ff’+f\delta f’+\delta f’f’’+f’\delta f’’\right)\<br>&#x3D;&amp;\int\mathrm dt\left(f’-f’+f’’-f’’\right)\delta f&#x3D;0<br>\end{aligned}<br>$$<br>实际上<br>$$<br>ff’+f’f’’&#x3D;\frac{\mathrm d}{\mathrm dt}\left(\frac 12\left(f^2+f’^2\right)\right)<br>$$</p>
</blockquote>
<h4 id="1-4-泛函极值"><a href="#1-4-泛函极值" class="headerlink" title="1.4 泛函极值"></a>1.4 泛函极值</h4><h5 id="1-4-1-泛函极值的必要条件"><a href="#1-4-1-泛函极值的必要条件" class="headerlink" title="1.4.1 泛函极值的必要条件"></a>1.4.1 泛函极值的必要条件</h5><p>​		显然泛函 $S[f]$ 在 $f&#x3D;\overline f\left(t\right)$ 时取极小（大）值时，只有不发生偏移，即 $\delta f&#x3D;0$ 时取极值 .另一方面，由式（1.12），$S[\overline f+\epsilon \delta f]$ 可看作参数 $\epsilon$ 的普通函数，在 $\epsilon&#x3D;0$ 处取极值.结合泛函导数的定义，有<br>$$<br>\delta S[\overline f]&#x3D;\int \mathrm dt\left .\frac{\delta S[f]}{\delta f}\delta f\right|<em>{\overline f}&#x3D;\left .\frac{\mathrm dS[\overline f+\epsilon \delta f]}{\mathrm d\epsilon}\right |</em>{\epsilon &#x3D;0}&#x3D;0\tag{1.25}<br>$$<br>由此得到泛函在 $f&#x3D;\overline f\left(t\right)$ 时取极值，即要求泛函的一阶变分为零：<br>$$<br>\boxed{\delta S[\overline f]&#x3D;0}\tag{1.26}<br>$$</p>
<h5 id="1-4-2-欧拉-拉格朗日方程"><a href="#1-4-2-欧拉-拉格朗日方程" class="headerlink" title="1.4.2 欧拉-拉格朗日方程"></a>1.4.2 欧拉-拉格朗日方程</h5><p>​		一类常见的泛函具有如下形式<br>$$<br>S[f]&#x3D;\int \mathrm dt L\left(t,f\left(t\right),f’\left(t\right)\right)\tag{1.27}<br>$$<br>根据式（1.26），泛函取极值的必要条件是<br>$$<br>-\frac{\delta S}{\delta f}\equiv\boxed{\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)-\frac{\partial L}{\partial f}&#x3D;0}\tag{1.28}<br>$$<br>式（1.28）是关于 $f\left(t\right)$ 的二阶微分方程，被称为变分问题的<strong>欧拉-拉格朗日方程</strong>（Euler-Lagrange equation）.</p>
<p>​		对 $L$ 直接求全导数<br>$$<br>\begin{aligned}<br>\frac{\mathrm dL}{\mathrm dt}&#x3D;&amp;\frac{\partial L}{\partial t}+\frac{\partial L}{\partial f}f’+\frac{\partial L}{\partial f’}f’’&#x3D;\frac{\partial L}{\partial t}+\frac{\partial L}{\partial f}f’+\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}f’\right)-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)f’\<br>&#x3D;&amp;\frac{\partial L}{\partial t}-\underbrace{\left(\frac{\partial L}{\partial f}-\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}\right)\right)}<em>{&#x3D;0}f’+\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}f’\right)<br>\end{aligned}<br>$$<br>因此当欧拉-拉格朗日方程（1.28）满足时，下式也成立<br>$$<br>\boxed{\frac{\mathrm d}{\mathrm dt}\left(\frac{\partial L}{\partial f’}f’-L\right)+\frac{\partial L}{\partial t}&#x3D;0} \tag{1.29}<br>$$<br>一个立即的结论是，若 $L$ 不显含积分变量 $t$<br>$$<br>\frac{\partial L}{\partial t}&#x3D;0\tag{1.30}\Rightarrow \frac{\partial L}{\partial f’}f’-L&#x3D;const<br>$$<br>​		对于更一般的泛函式（1.3），其取极值的必要条件是<br>$$<br>\frac{\delta S}{\delta f}&#x3D;\sum</em>{n&#x3D;0}\left(-1\right)^n\frac{\mathrm d^n}{\mathrm dt^n}\left(\frac{\partial L}{\partial f^{\left(n\right)}}\right)&#x3D;0\tag{1.31}<br>$$</p>
<blockquote>
<p>Example 1.3</p>
<p>​		平面上两固定点直接由任意光滑曲线连接，曲线方程基座 $y&#x3D;f\left(x\right)$ ，曲线长度为 $S&#x3D;\int \mathrm dx\sqrt{1+\left(f’\left(x\right)\right)^2}$ ，变分得到<br>$$<br>\delta S&#x3D;\int \mathrm dx\frac{f’}{\sqrt{1+f’^2}}\delta f’&#x3D;-\int \mathrm dx\frac{f’’}{\left(1+f’^2\right)^{3&#x2F;2}}\delta f<br>$$<br>于是曲线长度取极值的必要条件即 $f\left(x\right)$ 满足 $\frac{f’’}{\left(1+f’^2\right)^{3&#x2F;2}}&#x3D;0$ ，其等价于 $f’’&#x3D;0$ ，通解为  $y&#x3D;ax+b$ .</p>
</blockquote>
<blockquote>
<p>Example 1.4（最速下降曲线）</p>
<p>​		当小球下降到 $y$ 处时，$\frac 12m\boldsymbol{v}^2&#x3D;mgy$ ，因此速度大小 $v\equiv|\boldsymbol v|&#x3D;\sqrt{2gy}$ ，下落到 $A$ 点的用时<br>$$<br>T[y]&#x3D;\int \mathrm dx \frac{\sqrt{1+y’^2}}{\sqrt{2gy}}<br>$$<br>观察到被积函数 $L&#x3D;\frac{\sqrt{1+y’^2}}{\sqrt{2gy}}$ 与 $x$ 无关，即式（1.30）的情况<br>$$<br>\frac{\partial L}{\partial f’}f’-L&#x3D;-\frac{1}{\sqrt{2gy}\sqrt{1+y’^2}}&#x3D;const<br>$$<br>即 $y\left(x\right)$ 满足<br>$$<br>y\left(1+y’^2\right)&#x3D;const\tag{1.32}<br>$$<br>可以验证式（1.32）有参数方程解，$y\left(\theta\right)&#x3D;a\left(1-\cos\theta\right)$ 和 $x\left(\theta\right)&#x3D;a\left(\theta -\sin \theta\right)$ ，其所描述的曲线即为摆线（cycloid）</p>
</blockquote>
<h5 id="1-4-3-多个变量和多元函数"><a href="#1-4-3-多个变量和多元函数" class="headerlink" title="1.4.3 多个变量和多元函数"></a>1.4.3 多个变量和多元函数</h5><p>​		考虑泛函<br>$$<br>S&#x3D;S[f_1,f_2,\cdots]&#x3D;\int \mathrm dtL\left(t,f_1,f_2,\cdots,f_1’,f_2’,\cdots\right)\tag{1.33}<br>$$<br>其极值同样要求<br>$$<br>\delta S&#x3D;\int \mathrm dt\left(\frac{\delta S}{\delta f_1}\delta f_1+\frac{\delta S}{\delta f_2}\delta f_2+\cdots\right)&#x3D;0\tag{1.34}<br>$$<br>因为函数 $f_1,f_2,\cdots$ 相互独立，其变分 $\delta f_1,\delta f_2,\cdots$ 也是相互独立的，因此上述式子要求每一项的系数都为零，于是泛函取极值的要求<br>$$<br>\frac{\delta S}{\delta f_1}&#x3D;0,\ \frac{\delta S}{\delta f_2}&#x3D;0,\ \cdots\tag {1.35}<br>$$</p>
<blockquote>
<p>Example 1.5</p>
<p>​	考虑依赖于两个函数 $f\left(t\right)$ 和 $n\left(t\right)$ 的泛函<br>$$<br>S[f.n]&#x3D;\int \mathrm dt\frac 12\left[\frac{1}{n\left(t\right)}\left(f’\left(t\right)\right)^2-n\left(t\right)\left(f\left(t\right)\right)^2 \right]<br>$$<br>首先对 $f\left(t\right)$ 做变分，得到<br>$$<br>\delta S&#x3D;\int \mathrm dt\frac12\left(\frac{1}{n}2f’\delta f’-n2f\delta f \right)\simeq\int \mathrm dt\left[-\frac{\mathrm d}{\mathrm dt}\left(\frac{f’}{n}\right)-nf \right]\delta f<br>$$<br>因此 $\delta S&#x3D;0$，要求<br>$$<br>-\frac{\delta S}{\delta f}&#x3D;\frac{\mathrm d}{\mathrm dt}\left(\frac{f’}{n}\right)+nf&#x3D;0\tag{1.36}<br>$$<br>再对 $n\left(t\right)$ 做变分，得到<br>$$<br>\delta S&#x3D;\int \mathrm dt\frac{1}{2}\left(-\frac{1}{n^2}f’^2-f^2\right)\delta n<br>$$<br>因此 $\delta S&#x3D;0$，要求<br>$$<br>-\frac{\delta S}{\delta n}&#x3D;\frac{1}{2n^2}f’^2+\frac12f^2\tag{1.37}<br>$$<br>泛函 $S[f,n]$ 取极值的必要条件即 $f\left(t\right)$ 和 $n\left(t\right)$ 满足式（1.36）和（1.37）</p>
</blockquote>
<p>​		泛函中的函数也可以是多元函数，以单个函数 $f$ 的泛函 $S[f]$ 为例，设 $f$ 为 $t$ 和 $x$ 的二元函数 $f&#x3D;f\left(t,x\right)$ .简单起见，我们只考虑 $L$ 含有 $f$ 的一阶导数，泛函具有形式<br>$$<br>S&#x3D;\iint \mathrm dt\mathrm dxL\left(t,x,f,\frac{\partial f}{\partial t},\frac{\partial f}{\partial x}\right)\tag{1.38}<br>$$<br>同样按照之前的步骤，泛函的一阶变分为<br>$$<br>\begin{aligned}<br>\delta S&#x3D;&amp;\iint \mathrm dt\mathrm dx\delta L\left(t,x,f,\frac{\partial f}{\partial t},\frac{\partial f}{\partial x}\right)\<br>&#x3D;&amp;\iint \mathrm dt\mathrm dx\left[\frac{\partial L}{\partial f}\delta f+\frac{\partial L}{\partial \left(\frac{\partial f}{\partial t}\right)}\delta\left(\frac{\partial f}{\partial t}\right)+\frac{\partial L}{\partial \left(\frac{\partial f}{\partial x}\right)}\delta\left(\frac{\partial f}{\partial x}\right) \right]\<br>&#x3D;&amp;\iint \mathrm dt\mathrm dx\left[\frac{\partial L}{\partial f}-<br>\frac{\partial}{\partial t}\left(\frac{\partial L}{\partial \left(\frac{\partial f}{\partial t}\right)}\right)<br>-\frac{\partial}{\partial x}\left( \frac{\partial L}{\partial \left(\frac{\partial f}{\partial x}\right)}\right) \right]\delta f\<br>\end{aligned}<br>$$<br>所以泛函取极值的必要条件即<br>$$<br>\frac{\delta S}{\delta f}&#x3D;\frac{\partial L}{\partial f}<br>-\frac{\partial}{\partial t}\left(\frac{\partial L}{\partial \left(\frac{\partial f}{\partial t}\right)}\right)<br>-\frac{\partial}{\partial x}\left( \frac{\partial L}{\partial \left(\frac{\partial f}{\partial x}\right)}\right)&#x3D;0\tag{1.39}<br>$$</p>
<h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><blockquote>
<p><strong>1.5</strong> 	考虑一条补课拉伸，质量均匀的柔软喜神，长为 $l$ ，质量为 $m$ ，细绳两端点悬挂于相同高度，水平距离为 $a(a&lt;l)$ .</p>
<p>（1） 选择合适的坐标，求细绳总的重力势能 $V$ 作为细绳形状的泛函.</p>
<p>（2）求细绳重力势能取极值时，细绳形状所满足的欧拉-拉格朗日方程.	</p>
<p> $proof$</p>
<p>（1） 以细绳的一个端点作为原点，建立坐标系，细绳总的重力势能 $V$ 可以写成<br>$$<br>V&#x3D;\int_0^a \mathrm dx \frac{\sqrt{1+y’^2}}{l} mgy&#x3D;\int_0^a \mathrm dx\frac{mg}{l}y\sqrt{1+y’^2}<br>$$<br>（2）做变分<br>$$<br>\begin{aligned}<br>\delta V&#x3D;&amp;\int_{0}^a \mathrm dx \frac{mg}{l}\left(\delta y\sqrt{1+y’^2}+\frac{yy’}{\sqrt{1+y’^2}}\delta y’ \right)\<br>\simeq&amp;\int_{0}^a \mathrm dx \frac{mg}l\frac{y’^2-yy’’+1}{\left( 1+y’^2 \right )^{3&#x2F;2}}\delta y<br>\end{aligned}<br>$$<br>因此 $\delta V&#x3D;0$，要求<br>$$<br>-\frac{\delta V}{\delta y}&#x3D;-\frac{mg}l\frac{y’^2-yy’’+1}{\left( 1+y’^2 \right )^{3&#x2F;2}}&#x3D;0<br>$$<br>即细绳形状满足微分方程<br>$$<br>y^2-yy’’+1&#x3D;0<br>$$</p>
</blockquote>
<h3 id="Chapter-2-位形空间"><a href="#Chapter-2-位形空间" class="headerlink" title="Chapter 2 位形空间"></a>Chapter 2 位形空间</h3><h4 id="2-1-位形与时间演化"><a href="#2-1-位形与时间演化" class="headerlink" title="2.1 位形与时间演化"></a>2.1 位形与时间演化</h4><h5 id="2-1-1-位形"><a href="#2-1-1-位形" class="headerlink" title="2.1.1 位形"></a>2.1.1 位形</h5><p>​		<strong>位形</strong>（configuration）即粒子系统中各个粒子的空间位置，或者更一般的物理系统在空间中的形状、分布.位形的概念可以推广至连续系统和非机械系统.</p>
<h5 id="2-1-2-位形空间与流形"><a href="#2-1-2-位形空间与流形" class="headerlink" title="2.1.2 位形空间与流形"></a>2.1.2 位形空间与流形</h5><p>​		系统所有可能位形的集合，就构成<strong>位形空间</strong>（configuration space）.位形空间中的一点，即代表系统的一种可能的位形.</p>
<p>​		一般来说，物理系统的位形空间一般不是平坦的线性空间（矢量空间）.例如，球面是一个二维空间，但显然不是平坦的.但是，球面局部的一小块，看上去又和二维平面很想，数学上对这种一般的空间的描述，即所谓<strong>流形</strong>（manifold）理论.</p>
<h5 id="2-1-3-世界线"><a href="#2-1-3-世界线" class="headerlink" title="2.1.3 世界线"></a>2.1.3 世界线</h5><p>​		随着时间的演化，位形空间中的点在这个空间中也扫出一条连续的曲线，有时被称作<strong>时间线</strong>（world line）.</p>
<h4 id="2-2-广义坐标"><a href="#2-2-广义坐标" class="headerlink" title="2.2 广义坐标"></a>2.2 广义坐标</h4><h5 id="2-2-1-广义坐标的概念"><a href="#2-2-1-广义坐标的概念" class="headerlink" title="2.2.1 广义坐标的概念"></a>2.2.1 广义坐标的概念</h5><p>​		对位形空间的参数化即<strong>广义坐标</strong>（generalized coordinates），其是任意一组都能够唯一确定系统某个位形的独立参数.<br>$$<br>\begin{aligned}<br>位置\quad &amp;\to \quad 位形\<br>普通空间 \ &amp;\to\  位形空间\<br>普通坐标 \ &amp;\to\  广义坐标<br>\end{aligned}<br>$$</p>
<blockquote>
<p>Example 2.1 圆环上粒子的位形	</p>
<p>​		如图所示，粒子在固定圆环上无摩擦的自由滑动，粒子在圆环上的角度唯一决定粒子的位置，所以系统具有一个独立的广义坐标即 $\theta$ .这个系统的位形空间就是圆周，通常记作 $\mathbf{S}^1$ .</p>
<p><img src="/2025/09/08/Classical%20mechanics/2.1.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<blockquote>
<p>Example 2.2 单摆的位形</p>
<p>（a）一个独立广义坐标 $\theta$ ，位形空间为一维圆周 $\mathbf{S}^1$ .</p>
<p>（b）两个独立广义坐标 $x$ 和 $\theta$ ，位形空间为二维柱面 $\mathrm{R}^1\times \mathrm{S}^1$ .</p>
<p>（c）球坐标 ${\theta,\phi}$ ，位形空间为二维球面 $\mathrm{S}^2$ .</p>
<p><img src="/2025/09/08/Classical%20mechanics/2.2.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<blockquote>
<p>Example 2.3 刚性杆连接两个粒子的位形</p>
<p>​		系统具有 3 个独立的广义坐标 ${x_1,y_1,\theta}$ ，位形空间为 $\mathbf{R}^2\times\mathbf{S}^1$ .</p>
<p><img src="/2025/09/08/Classical%20mechanics/2.3.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<blockquote>
<p>Example 2.4 双摆的位移</p>
<p>​		两个杆的摆角唯一决定了双摆的位形。两个杆的白交 $\theta_1$ 和 $\theta_2$ 各自都具有 $2\pi$ 的周期性，所以双摆的位形空间是 $\mathbf{S}^1\times \mathbf{S}^1\equiv \mathbf{T}^2$ ，其代表二维环面。</p>
<p><img src="/2025/09/08/Classical%20mechanics/2.4.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Physics/" class="category-chain-item">Physics</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/09/16/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/" title="概率论与数理统计">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">概率论与数理统计</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/08/27/C++note/" title="C++">
                        <span class="hidden-mobile">C++</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>





  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'zh-cn'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
